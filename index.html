<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master SSIAP 1 </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a;
            color: #e2e8f0;
        }

        .active-tab {
            border-bottom: 4px solid #ef4444;
            color: #ef4444;
            background-color: rgba(239, 68, 68, 0.1);
        }

        /* Flashcard Styling */
        .perspective-1000 { perspective: 1000px; }
        .card-inner {
            transition: transform 0.6s;
            transform-style: preserve-3d;
            cursor: pointer;
            position: relative;
            width: 100%;
            height: 280px;
        }

        .card-inner.is-flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            border-radius: 1.5rem;
            text-align: center;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.5);
        }

        .card-front {
            background: #1e293b;
            color: #f8fafc;
            border: 1px solid #334155;
        }

        .card-back {
            background: #ef4444;
            color: white;
            transform: rotateY(180deg);
        }

        /* HOVER : Seule l'icône devient rouge */
        .card-inner:hover .theme-icon {
            color: #ef4444 !important;
            transition: color 0.3s ease;
        }

        .video-container {
            position: relative;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            border-radius: 0.75rem;
            background: #000;
        }

        .video-container iframe {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
        }

        .course-section h3 {
            color: #ef4444;
            font-weight: 700;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cat-btn.active {
            background-color: #ef4444;
            color: white;
            border-color: #ef4444;
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .glass {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        /* Empêche le blocage du clic sur mobile */
.no-scrollbar {
    -webkit-overflow-scrolling: touch; /* Défilement fluide sur iOS */
}

.cat-btn {
    position: relative;
    z-index: 10;
    pointer-events: auto !important; /* Force la détection du clic */
    touch-action: manipulation; /* Optimise le clic tactile */
}
    </style>
</head>
<body class="min-h-screen">

    <header class="bg-slate-900 border-b border-slate-800 text-white shadow-2xl">
        <div class="max-w-6xl mx-auto px-4 py-6 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="bg-red-600 p-2 rounded-lg shadow-lg shadow-red-900/40">
                    <i class="fas fa-fire-alt text-2xl"></i>
                </div>
                <div>
                    <h1 class="text-xl font-bold leading-none tracking-tight">MASTER SSIAP 1</h1>
                    <p class="text-[10px] text-red-500 font-bold uppercase tracking-[0.2em]">Formation </p>
                </div>
            </div>
            <div class="hidden md:flex bg-slate-800/50 px-4 py-2 rounded-full border border-slate-700 items-center gap-2">
                <div class="w-2 h-2 bg-emerald-500 rounded-full animate-pulse"></div>
                <span class="text-xs text-slate-300 font-medium">Session Active</span>
            </div>
        </div>
    </header>

    <nav class="sticky top-0 z-50 bg-slate-900/95 backdrop-blur border-b border-slate-800 shadow-xl">
        <div class="max-w-6xl mx-auto flex overflow-x-auto no-scrollbar">
            <button onclick="showTab('course')" id="btn-course" class="flex-1 min-w-[100px] py-4 px-2 text-xs font-bold transition-all active-tab">
                <i class="fas fa-book-open block mb-1 text-lg"></i> COURS
            </button>
            <button onclick="showTab('videos')" id="btn-videos" class="flex-1 min-w-[100px] py-4 px-2 text-xs font-bold transition-all text-slate-400">
                <i class="fas fa-play-circle block mb-1 text-lg"></i> VIDÉOS
            </button>
            <button onclick="showTab('flashcards')" id="btn-flashcards" class="flex-1 min-w-[100px] py-4 px-2 text-xs font-bold transition-all text-slate-400">
                <i class="fas fa-clone block mb-1 text-lg"></i> CARDS
            </button>
            <button onclick="showTab('exam')" id="btn-exam" class="flex-1 min-w-[100px] py-4 px-2 text-xs font-bold transition-all text-slate-400">
                <i class="fas fa-graduation-cap block mb-1 text-lg"></i> EXAMEN
            </button>
        </div>
    </nav>

    <main class="max-w-6xl mx-auto p-4 md:p-8">

        <div id="tab-course" class="space-y-6">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div class="glass p-6 rounded-3xl shadow-sm border border-slate-800 course-section">
                    <h3><i class="fas fa-atom"></i> Chimie du Feu</h3>
                    
                    <p class="text-slate-400 text-sm mb-4">La réunion de 3 éléments pour créer une réaction chimique.</p>
                    <div class="grid grid-cols-3 gap-2 mb-4 text-center">
                        <div class="p-2 bg-slate-800 rounded-xl border border-slate-700">
                            <i class="fas fa-box text-blue-400 mb-1"></i>
                            <div class="text-[10px] font-bold">Combustible</div>
                        </div>
                        <div class="p-2 bg-slate-800 rounded-xl border border-slate-700">
                            <i class="fas fa-wind text-emerald-400 mb-1"></i>
                            <div class="text-[10px] font-bold">Comburant</div>
                        </div>
                        <div class="p-2 bg-slate-800 rounded-xl border border-slate-700">
                            <i class="fas fa-bolt text-yellow-400 mb-1"></i>
                            <div class="text-[10px] font-bold">Énergie</div>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <div class="flex items-center justify-between p-3 bg-slate-800/50 rounded-xl border-l-4 border-slate-500">
                            <span class="font-bold text-sm">Classe A</span>
                            <span class="text-[11px] text-white-400">Solides (Bois, Coton)</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-slate-800/50 rounded-xl border-l-4 border-blue-500">
                            <span class="font-bold text-sm">Classe B</span>
                            <span class="text-[11px] text-white-400">Liquides (Alcool, Fioul)</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-slate-800/50 rounded-xl border-l-4 border-yellow-500">
                            <span class="font-bold text-sm">Classe C</span>
                            <span class="text-[11px] text-white-400">Gaz (Propane, Ville)</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-slate-800/50 rounded-xl border-l-4 border-red-500">
                            <span class="font-bold text-sm">Classe D</span>
                            <span class="text-[11px] text-white-400">Métaux (Magnésium)</span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-slate-800/50 rounded-xl border-l-4 border-orange-500">
                            <span class="font-bold text-sm">Classe F</span>
                            <span class="text-[11px] text-white-400">Huile et Graisse (Cuisine) </span>
                        </div>
                         <div class="flex items-center justify-between p-3 bg-slate-800/50 rounded-xl border-l-4 border-purple-500">
                            <span class="font-bold text-sm">Classe L</span>
                            <span class="text-[11px] text-white-400">Batterie Lithium-ion</span>
                        </div>
                    </div>
                </div>

<div class="glass p-6 rounded-3xl shadow-sm border border-slate-800 course-section text-white">
    <h3 class="mb-6 flex items-center gap-2 text-xl font-semibold">
        <i class="fas fa-fire-extinguisher text-orange-500"></i> Classe de feux explication
    </h3>

    <ul class="text-sm space-y-4">
        
        <li class="bg-slate-800/30 rounded-2xl overflow-hidden border border-slate-700/50">
            <details class="group">
                <summary class="flex items-center gap-4 p-4 cursor-pointer list-none">
                    <div class="w-10 h-10 bg-slate-500 rounded-full flex items-center justify-center shrink-0 shadow-lg font-bold">A</div>
                    <div class="flex-1">
                        <p class="font-bold">Feux de classe A : feux de matériaux solides</p>
                        <span class="text-xs text-emerald-400 group-open:hidden font-medium">Afficher l'explication complète...</span>
                    </div>
                    <i class="fas fa-chevron-down text-slate-500 transition-transform group-open:rotate-180"></i>
                </summary>
                <div class="px-4 pb-4 ml-14 border-t border-slate-700/30 pt-3">
                    <p class="text-xs text-white-400">Extincteurs adaptés : Pour un feu de classe A, le moyen classique et le plus efficace est le jet d’eau, qui refroidit le combustible et imprègne les braise. Les extincteurs à eau pulvérisée (avec ou sans additif) sont donc privilégiés, de même que les extincteurs à mousse polyvalente ou à poudre ABC. Ces agents agissent en refroidissant le matériau et en étouffant les flammes. À éviter : les extincteurs au CO₂ (dioxyde de carbone) ne sont généralement pas recommandés sur un feu de solides, car le CO₂ pur n’apporte pas de refroidissement : le feu pourrait reprendre dès que le gaz se dissipe.</p>
                </div>
            </details>
        </li>

        <li class="bg-slate-800/30 rounded-2xl overflow-hidden border border-slate-700/50">
            <details class="group">
                <summary class="flex items-center gap-4 p-4 cursor-pointer list-none">
                    <div class="w-10 h-10 bg-blue-700 rounded-full flex items-center justify-center shrink-0 shadow-lg font-bold">B</div>
                    <div class="flex-1">
                        <p class="font-bold">Feux de classe B : feux de liquides ou de solides liquéfiables</p>
                        <span class="text-xs text-emerald-400 group-open:hidden font-medium">Afficher l'explication complète...</span>
                    </div>
                    <i class="fas fa-chevron-down text-slate-500 transition-transform group-open:rotate-180"></i>
                </summary>
                <div class="px-4 pb-4 ml-14 border-t border-slate-700/30 pt-3">
                    <p class="text-xs text-white-400">Extincteurs adaptés : Sur un feu de liquide, il faut éviter d’utiliser de l’eau sous forme jet continu, qui pourrait disperser le carburant en flammes ou provoquer des projections dangereuses. On préconise d’utiliser des agents qui agissent par étouffement et émulsification : les mousses anti-incendie (y compris la mousse polyvalente ABF), les extincteurs à poudre (poudre BC spéciale feux de liquides, ou poudre ABC polyvalente) ou encore le CO₂. Par exemple, un extincteur à mousse va créer une pellicule flottante qui prive le feu d’oxygène, tandis que la poudre chimique va inhiber la réaction en chaîne et étouffer les flammes. Attention : un extincteur CO₂ peut être efficace sur un petit feu de classe B (par exemple feu de liquide dans une bassine) car il étouffe le feu en remplaçant l’oxygène par un gaz inerte. En revanche, sur une nappe enflammée trop vaste, le CO₂ se dissiperait trop vite et pourrait créer un risque d’asphyxie pour l’utilisateur dans un espace clos. Il convient donc de l’employer sur de petites surfaces ou en complément, et toujours avec précaution.</p>
                </div>
            </details>
        </li>

        <li class="bg-slate-800/30 rounded-2xl overflow-hidden border border-slate-700/50">
            <details class="group">
                <summary class="flex items-center gap-4 p-4 cursor-pointer list-none">
                    <div class="w-10 h-10 bg-yellow-600 rounded-full flex items-center justify-center shrink-0 shadow-lg font-bold ">C</div>
                    <div class="flex-1">
                        <p class="font-bold">Feux de classe C : feux de gaz inflammables</p>
                        <span class="text-xs text-emerald-400 group-open:hidden font-medium">Afficher l'explication complète...</span>
                    </div>
                    <i class="fas fa-chevron-down text-slate-500 transition-transform group-open:rotate-180"></i>
                </summary>
                <div class="px-4 pb-4 ml-14 border-t border-slate-700/30 pt-3">
                    <p class="text-xs text-white-400">Extincteurs et méthodes : Première mesure : il est impératif de fermer l’arrivée du gaz ou de couper la source si possible dès que la situation le permet. Tant qu’une fuite de gaz alimentée brûle, la flamme empêche le gaz de s’accumuler ; l’éteindre sans stopper la fuite peut provoquer une explosion ultérieure (gaz non brûlé répandu dans l’air). Donc la règle d’or est : on ne lutte pas un feu de gaz classe C tant que la source n’est pas coupée. Une fois le flux de gaz arrêté, les flammes résiduelles s’éteindront d’elles-mêmes ou on pourra les achever à l’aide d’un extincteur à poudre ABC, dont l’effet de souffle aide à disperser la flamme. Les extincteurs au CO₂ peuvent également être utilisés sur certains feux de gaz (ils agissent par refroidissement local et étouffement), mais la poudre est généralement plus efficace pour ce type d’incendie. Attention : lors de l’extinction, se méfier du risque de rejet brutal de flamme ou d’explosion de gaz si la flamme est soufflée sans que le gaz soit coupé, d’où l’importance de l’intervention des spécialistes (sapeurs-pompiers ou techniciens du réseau de gaz).</p>
                </div>
            </details>
        </li>

        <li class="bg-slate-800/30 rounded-2xl overflow-hidden border border-slate-700/50">
            <details class="group">
                <summary class="flex items-center gap-4 p-4 cursor-pointer list-none">
                    <div class="w-10 h-10 bg-red-600 rounded-full flex items-center justify-center shrink-0 shadow-lg font-bold ">D</div>
                    <div class="flex-1">
                        <p class="font-bold">Feux de classe D : feux de métaux</p>
                        <span class="text-xs text-emerald-400 group-open:hidden font-medium">Afficher l'explication complète...</span>
                    </div>
                    <i class="fas fa-chevron-down text-slate-500 transition-transform group-open:rotate-180"></i>
                </summary>
                <div class="px-4 pb-4 ml-14 border-t border-slate-700/30 pt-3">
                    <p class="text-xs text-white-400">Moyens d’extinction : Les feux de métaux exigent des agents spécialisés. On utilise des extincteurs à poudre spéciale classe D (poudre dite “poudre D” ou poudre métal) formulée en fonction du type de métal qui brûle. Par exemple, pour du magnésium en feu on peut utiliser de la poudre à base de chlorure de sodium (NaCl) ou de graphite, qui fond sur le métal en formant une croûte étouffante. Pour un feu de lithium, il existe d’autres poudres spécifiques. L’important est de prévoir ces extincteurs à l’avance dans les zones à risque (ateliers de machinage, stockages de poudres métalliques, laboratoires…). En l’absence de poudre D, du sable sec peut parfois être utilisé pour couvrir et étouffer un petit feu de métal. Note : Étant donné la technicité de ce type de feu, l’extinction est en général laissée aux pompiers spécialisés ou aux personnels formés, avec un périmètre de sécurité important.</p>
                </div>
            </details>
        </li>

        <li class="bg-slate-800/30 rounded-2xl overflow-hidden border border-slate-700/50">
            <details class="group">
                <summary class="flex items-center gap-4 p-4 cursor-pointer list-none">
                    <div class="w-10 h-10 bg-orange-600 rounded-full flex items-center justify-center shrink-0 shadow-lg font-bold ">F</div>
                    <div class="flex-1">
                        <p class="font-bold">Feux de classe F : feux d’huiles et de graisses de cuisson</p>
                        <span class="text-xs text-emerald-400 group-open:hidden font-medium">Afficher l'explication complète...</span>
                    </div>
                    <i class="fas fa-chevron-down text-slate-500 transition-transform group-open:rotate-180"></i>
                </summary>
                <div class="px-4 pb-4 ml-14 border-t border-slate-700/30 pt-3">
                    <p class="text-xs text-white-400">Extinction : Les feux de classe F se combattent soit avec des extincteurs portatifs spécifiques à agent saponifiant (souvent étiquetés “ABF”), soit par des méthodes d’étouffement manuel si le départ de feu est petit : par exemple couvrir la poêle ou la friteuse d’un couvercle métallique adapté, ou jeter sur les flammes une couverture anti-feu. L’agent saponifiant contenu dans les extincteurs de classe F est un liquide qui, projeté en fine brume, forme une réaction chimique avec l’huile en feu (saponification) et crée une épaisse mousse qui étouffe l’incendie tout en refroidissant l’huile. Ces extincteurs spécialisés sont très efficaces et prévus pour les cuisines professionnelles ou les lieux équipés de friteuses. Important : ne jamais tenter de déplacer une poêle en feu (risque de renversement) et ne jamais verser d’eau. Couper l’alimentation de l’appareil de cuisson (gaz ou électricité) dès que possible pour éliminer la source de chaleur. Une fois le feu éteint, surveillez un long moment car une huile très chaude peut se rallumer spontanément si elle reste au-dessus de son point d’auto-inflammation.</p>
                </div>
            </details>
        </li>

        <li class="bg-slate-800/30 rounded-2xl overflow-hidden border border-slate-700/50">
            <details class="group">
                <summary class="flex items-center gap-4 p-4 cursor-pointer list-none">
                    <div class="w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center shrink-0 shadow-lg font-bold ">L</div>
                    <div class="flex-1">
                        <p class="font-bold">Feux de classe L : Feux de batteries lithium-ion (ISO 3941:2026)</p>
                        <span class="text-xs text-emerald-400 group-open:hidden font-medium">Afficher l'explication complète...</span>
                    </div>
                    <i class="fas fa-chevron-down text-slate-500 transition-transform group-open:rotate-180"></i>
                </summary>
                <div class="px-4 pb-4 ml-14 border-t border-slate-700/30 pt-3">
                    <p class="text-xs text-white-400">Moyens et stratégie d’extinction : refroidir, contenir et empêcher la propagation, plus que “éteindre” au sens classique. Moyens adaptés Agents spécifiques lithium-ion : agents à base de vermiculite exfoliée, agents aqueux à fort pouvoir de refroidissement (AVD, gels, hydrogels), Apport massif et prolongé d’eau (en contexte pompier) : refroidissement en profondeur, surveillance longue durée post-extinction. Moyens inadaptés ou insuffisants seuls : CO₂ (inefficace sur l’emballement thermique), Poudres ABC (effet très limité), Mousse classique, Étouffement simple. Ces moyens peuvent supprimer les flammes visibles sans stopper la réaction interne, exposant à une ré-inflammation différée (heures ou jours).</p>
                </div>
            </details>
        </li>

    </ul>
</div>

                <div class="glass p-6 rounded-3xl shadow-sm border border-slate-800 course-section">
                    <h3><i class="fas fa-fire-extinguisher"></i> Moyens de Secours</h3>
                    <ul class="text-sm space-y-4">
                        <li class="flex gap-4 p-3 bg-slate-800/30 rounded-2xl">
                            <div class="w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center shrink-0 shadow-lg">A</div>
                            <div>
                                <p class="font-bold">Eau pulvérisée (additif)</p>
                                <p class="text-xs text-slate-400">Agit par refroidissement. Idéal Classe A/B.</p>
                            </div>
                        </li>
                        <li class="flex gap-4 p-3 bg-slate-800/30 rounded-2xl">
                            <div class="w-10 h-10 bg-slate-700 rounded-full flex items-center justify-center shrink-0 shadow-lg">CO2</div>
                            <div>
                                <p class="font-bold">Dioxyde de Carbone</p>
                                <p class="text-xs text-slate-400">Étouffement. Pas de résidus. Électricité.</p>
                            </div>
                        </li>
                        <li class="flex gap-4 p-3 bg-slate-800/30 rounded-2xl">
                            <div class="w-10 h-10 bg-emerald-600 rounded-full flex items-center justify-center shrink-0 shadow-lg">RIA</div>
                            <div>
                                <p class="font-bold">Robinet d'Incendie Armé</p>
                                <p class="text-xs text-slate-400">Première intervention par les occupants ou agents.</p>
                            </div>
                        </li>
                    </ul>
                </div>

                <div class="glass p-6 rounded-3xl shadow-sm border border-slate-800 course-section">
                    <h3><i class="fas fa-heartbeat"></i> Secourisme d'Urgence</h3>
                    <div class="p-4 bg-emerald-900/20 border border-emerald-900/50 rounded-2xl mb-4 text-center uppercase text-[10px] font-bold">
                        <p class="text-emerald-400 mb-2">Le P.A.S.</p>
                        <div class="grid grid-cols-3 gap-2">
                            <div class="p-2 border border-emerald-800 rounded-lg">PROTÉGER</div>
                            <div class="p-2 border border-emerald-800 rounded-lg">ALERTER</div>
                            <div class="p-2 border border-emerald-800 rounded-lg">SECOURIR</div>
                        </div>
                    </div>
                    <div class="space-y-2 text-sm text-slate-300">
                         <div class="p-3 bg-slate-800/50 rounded-xl border-l-4 border-emerald-500 flex justify-between">
                            <span>Inconscient + Respire</span>
                            <span class="font-bold text-emerald-400">P.L.S.</span>
                        </div>
                        <div class="p-3 bg-slate-800/50 rounded-xl border-l-4 border-red-500 flex justify-between">
                            <span>Inconscient + Ne respire plus</span>
                            <span class="font-bold text-red-500">M.C.E. + DAE</span>
                        </div>
                        <div class="p-3 bg-slate-800/50 rounded-xl border-l-4 border-orange-500 flex justify-between">
                            <span>Obstruction totale</span>
                            <span class="font-bold text-orange-500">Tape + Heimlich</span>
                        </div>
                    </div>
                </div>

                <div class="glass p-6 rounded-3xl shadow-sm border border-slate-800 course-section">
                    <h3><i class="fas fa-clipboard-list"></i> Missions de l'Agent</h3>
                    <div class="grid grid-cols-2 gap-3 text-xs">
                        <div class="p-4 bg-slate-800/40 rounded-2xl border border-slate-700">
                            <i class="fas fa-walking text-red-500 text-lg mb-2"></i>
                            <p class="font-bold uppercase mb-1">Rondes</p>
                            <p class="text-slate-400">Vérification des dégagements.</p>
                        </div>
                        <div class="p-4 bg-slate-800/40 rounded-2xl border border-slate-700">
                            <i class="fas fa-eye text-red-500 text-lg mb-2"></i>
                            <p class="font-bold uppercase mb-1">Levée de doute</p>
                            <p class="text-slate-400">Vérification physique après alarme.</p>
                        </div>
                        <div class="p-4 bg-slate-800/40 rounded-2xl border border-slate-700">
                            <i class="fas fa-phone-alt text-red-500 text-lg mb-2"></i>
                            <p class="font-bold uppercase mb-1">ALERTE</p>
                            <p class="text-slate-400">Appel secours (18 / 112).</p>
                        </div>
                        <div class="p-4 bg-slate-800/40 rounded-2xl border border-slate-700">
                            <i class="fas fa-users text-red-500 text-lg mb-2"></i>
                            <p class="font-bold uppercase mb-1">ACCUEIL</p>
                            <p class="text-slate-400">Guider les pompiers à l'arrivée.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="tab-videos" class="hidden space-y-6">
            <div class="glass p-6 rounded-3xl border border-slate-800 mb-6">
                <h2 class="text-2xl font-bold mb-4 italic text-white">Vidéothèque Dynamique</h2>
                
                <div class="flex flex-col md:flex-row gap-3">
                    <div class="flex-1 relative">
                        <i class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-slate-500"></i>
                        <input type="text" id="v-search" placeholder="Rechercher une vidéo SSIAP..." 
                               class="w-full bg-slate-900 border border-slate-700 rounded-2xl py-4 pl-12 pr-4 text-sm text-white focus:border-red-500 outline-none transition-all">
                    </div>
                    <div class="flex gap-2">
                        <button onclick="searchVideos()" class="bg-red-600 px-6 py-4 rounded-2xl font-black uppercase text-xs text-white hover:scale-105 transition-all">Rechercher</button>
                        <button onclick="launchYoutubeSearch()" class="bg-slate-800 border border-slate-700 px-6 py-4 rounded-2xl font-black uppercase text-xs text-white flex items-center gap-2 hover:bg-red-600 transition-all">
                            <i class="fab fa-youtube"></i> YouTube
                        </button>
                    </div>
                </div>

                <div class="flex gap-2 mt-4 overflow-x-auto no-scrollbar">
    <button onclick="filterVideos('all')" class="cat-btn active px-4 py-2 rounded-full border border-slate-700 text-[10px] font-bold uppercase">Tous</button>
    <button onclick="filterVideos('feu')" class="cat-btn px-4 py-2 rounded-full border border-slate-700 text-[10px] font-bold uppercase">Feu & Extincteurs</button>
    <button onclick="filterVideos('secours')" class="cat-btn px-4 py-2 rounded-full border border-slate-700 text-[10px] font-bold uppercase">Secourisme</button>
    <button onclick="filterVideos('technique')" class="cat-btn px-4 py-2 rounded-full border border-slate-700 text-[10px] font-bold uppercase">Technique</button>
    <button onclick="filterVideos('gardiennage')" class="cat-btn px-4 py-2 rounded-full border border-slate-700 text-[10px] font-bold uppercase">Gardiennage</button>
    <button onclick="filterVideos('evac')" class="cat-btn px-4 py-2 rounded-full border border-slate-700 text-[10px] font-bold uppercase">Évacuation</button>
</div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="video-grid">
            </div>
        </div>

        <div id="tab-flashcards" class="hidden space-y-8">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4 bg-slate-800/30 p-4 rounded-2xl border border-slate-700">
                <div class="flex gap-2 overflow-x-auto no-scrollbar w-full md:w-auto">
                    <button onclick="filterCards('all')" class="cat-btn active px-6 py-2 rounded-full text-[10px] font-black border border-slate-700">TOUS</button>
                    <button onclick="filterCards('feu')" class="cat-btn px-6 py-2 rounded-full text-[10px] font-black border border-slate-700">FEU</button>
                    <button onclick="filterCards('secours')" class="cat-btn px-6 py-2 rounded-full text-[10px] font-black border border-slate-700">SECOURISME</button>
                    <button onclick="filterCards('evac')" class="cat-btn px-6 py-2 rounded-full text-[10px] font-black border border-slate-700">ÉVACUATION</button>
                </div>
                <div class="flex items-center gap-6">
                    <span class="text-[10px] font-bold text-slate-500 uppercase tracking-widest">Total: <span id="card-count" class="text-red-500">60</span></span>
                    <button onclick="shuffleCards()" class="text-red-500 text-[10px] font-black uppercase"><i class="fas fa-random mr-1"></i> Mélanger</button>
                </div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6" id="flash-grid">
                </div>
        </div>

        <div id="tab-exam" class="hidden text-center">
            <div id="exam-intro" class="glass p-12 rounded-[3rem] border-t-8 border-red-600 max-w-2xl mx-auto shadow-2xl">
                <i class="fas fa-stopwatch text-6xl text-red-600 mb-6"></i>
                <h2 class="text-3xl font-black italic mb-4 uppercase">EXAMEN BLANC</h2>
                <p class="text-slate-400 mb-8">Test de 10 questions tirées aléatoirement.</p>
                <button onclick="startQuiz()" class="w-full py-5 bg-red-600 rounded-2xl font-black uppercase text-xl hover:scale-105 transition-all">Lancer le Test</button>
            </div>
            <div id="quiz-container" class="hidden glass p-8 rounded-3xl max-w-3xl mx-auto text-left">
                 <div class="flex justify-between items-center mb-6">
                    <span id="quiz-progress" class="text-xs font-bold text-red-500 uppercase tracking-widest">Question 1/10</span>
                </div>
                <h3 id="quiz-q" class="text-2xl font-bold mb-8 italic">...</h3>
                <div id="quiz-opts" class="space-y-4"></div>
            </div>
        </div>

    </main>

    <footer class="mt-20 py-10 text-center border-t border-slate-900 opacity-30">
        <p class="text-[10px] font-bold uppercase tracking-[0.5em]">SSIAP 1 Revision by ©LK10 </p>
    </footer>

   <script>
    // --- NAVIGATION ---
    function showTab(id) {
        document.querySelectorAll('main > div').forEach(d => d.classList.add('hidden'));
        const targetTab = document.getElementById('tab-' + id);
        if (targetTab) targetTab.classList.remove('hidden');

        document.querySelectorAll('nav button').forEach(b => b.classList.remove('active-tab', 'text-white'));
        const activeBtn = document.getElementById('btn-' + id);
        if (activeBtn) activeBtn.classList.add('active-tab');

        if (id === 'flashcards') initCards();
        if (id === 'videos') initVideos();
    }

    // --- LOGIQUE FLASHCARDS ---
    let cardsPool = [];
    const themes = ['feu', 'secours', 'evac'];
    const cardTitles = {
        'feu': ['Classe de feu A', 'Extincteur CO2', 'Triangle du feu', 'RIA', 'Bac à sable'],
        'secours': ['PLS', 'Massage Cardiaque', 'Heimlich', 'Alerte Pompiers', 'Brûlure'],
        'evac': ['Point de rassemblement', 'Unité de passage', 'Plan d\'évacuation', 'Dégagement', 'BAES']
    };

    function initCards() {
        if (cardsPool.length > 0) return;
        for (let i = 0; i < 60; i++) {
            const theme = themes[i % 3];
            const title = cardTitles[theme][i % 5];
            cardsPool.push({
                theme: theme,
                q: `${title} #${i + 1}`,
                a: `Réponse technique SSIAP pour ${title}.`,
                icon: theme === 'feu' ? 'fa-fire' : theme === 'secours' ? 'fa-first-aid' : 'fa-running'
            });
        }
        renderCards('all');
    }

    function renderCards(filter) {
        const grid = document.getElementById('flash-grid');
        if (!grid) return;
        grid.innerHTML = '';
        const filtered = filter === 'all' ? cardsPool : cardsPool.filter(c => c.theme === filter);
        filtered.forEach(c => {
            grid.innerHTML += `
            <div class="perspective-1000">
                <div class="card-inner" onclick="this.classList.toggle('is-flipped')">
                    <div class="card-face card-front">
                        <span class="absolute top-6 left-6 text-[10px] text-red-500 font-black uppercase tracking-widest">${c.theme}</span>
                        <i class="fas ${c.icon} theme-icon absolute top-6 right-6 text-slate-700 text-xl"></i>
                        <p class="text-xl font-bold leading-tight italic px-4">${c.q}</p>
                    </div>
                    <div class="card-face card-back"><p class="text-sm font-medium leading-relaxed px-4">${c.a}</p></div>
                </div>
            </div>`;
        });
    }
function filterCards(cat) {
    // Gère l'apparence visuelle
    document.querySelectorAll('#tab-flashcards .cat-btn').forEach(btn => {
        btn.classList.remove('active', 'bg-red-600');
    });
    
    // On cherche le bouton cliqué de manière plus robuste
    if (event) {
        const btn = event.currentTarget;
        btn.classList.add('active', 'bg-red-600');
    }
    
    renderCards(cat);
}
// --- FONCTION MÉLANGER CORRIGÉE ---
function shuffleCards() {
    // 1. Mélange aléatoire du tableau cardsPool
    cardsPool.sort(() => Math.random() - 0.5);

    // 2. Réinitialisation visuelle des boutons de filtre
    document.querySelectorAll('#tab-flashcards .cat-btn').forEach(btn => {
        btn.classList.remove('active', 'bg-red-600');
    });

    // 3. On simule le clic sur le bouton "TOUS" pour rafraîchir la grille
    const allBtn = document.querySelector('#tab-flashcards button[onclick*="all"]');
    if (allBtn) {
        allBtn.classList.add('active', 'bg-red-600');
    }

    // 4. On relance l'affichage de toutes les cartes mélangées
    renderCards('all');
}
    // --- LOGIQUE VIDÉOTHÈQUE ---
    const vData = [
        { id: 'Eak9JO1zO2U', title: 'PSC1 : La Position Latérale de Sécurité (PLS)', cat: 'secours', iframe: '<iframe src="https://www.youtube.com/embed/Eak9JO1zO2U" frameborder="0" allowfullscreen></iframe>' },
        { id: 'lKta6hI3lx8', title: 'Le Massage Cardiaque et DAE', cat: 'secours', iframe: '<iframe src="https://www.youtube.com/embed/lKta6hI3lx8" frameborder="0" allowfullscreen></iframe>' },
        { id: 'ZgP3W6ylgG4', title: 'Manoeuvre de Heimlich', cat: 'secours', iframe: '<iframe src="https://www.youtube.com/embed/ZgP3W6ylgG4" frameborder="0" allowfullscreen></iframe>' },
        { id: 'kGYA78LHl3E', title: 'PSC1 : Le Message d\'Alerte (18/112)', cat: 'secours', iframe: '<iframe src="https://www.youtube.com/embed/kGYA78LHl3E" frameborder="0" allowfullscreen></iframe>' },
        { id: 'YkyQkR1Z4Ug', title: 'Formation Sauveteur Secouriste du Travail (SST)', cat: 'secours', iframe: '<iframe src="https://www.youtube.com/embed/YkyQkR1Z4Ug" frameborder="0" allowfullscreen></iframe>' },
        { id: 'uKobv-8UD7g', title: 'Appeler les secours ! (Procédure)', cat: 'secours', iframe: '<iframe src="https://www.youtube.com/embed/uKobv-8UD7g" frameborder="0" allowfullscreen></iframe>' },
        { id: 'x3nhtQZo6-c', title: 'Manipulation des Extincteurs', cat: 'feu', iframe: '<iframe src="https://www.youtube.com/embed/x3nhtQZo6-c" frameborder="0" allowfullscreen></iframe>' },
        { id: '5zGNUVECY_k', title: 'Le Robinet d\'Incendie Armé (RIA)', cat: 'feu', iframe: '<iframe src="https://www.youtube.com/embed/5zGNUVECY_k" frameborder="0" allowfullscreen></iframe>' },
        { id: '9f-EFuC_hxA', title: 'Tout savoir sur les Extincteurs', cat: 'feu', iframe: '<iframe src="https://www.youtube.com/embed/9f-EFuC_hxA" frameborder="0" allowfullscreen></iframe>' },
        { id: 'SzcR6l7Z8Wo', title: 'Exercices : Moyens d\'Extinction', cat: 'feu', iframe: '<iframe src="https://www.youtube.com/embed/SzcR6l7Z8Wo" frameborder="0" allowfullscreen></iframe>' },
        { id: 'UEb_zbtnS-w', title: '5 Grandes Causes d\'Incendie', cat: 'feu', iframe: '<iframe src="https://www.youtube.com/embed/UEb_zbtnS-w" frameborder="0" allowfullscreen></iframe>' },
        { id: 'iXNMnfdkEx4', title: 'Sécurité Incendie : Le Feu (Bases)', cat: 'feu', iframe: '<iframe src="https://www.youtube.com/embed/iXNMnfdkEx4" frameborder="0" allowfullscreen></iframe>' },
        { id: 'tbGyAwLmr4Y', title: 'Installation Fixe d\'Extinction à Gaz', cat: 'feu', iframe: '<iframe src="https://www.youtube.com/embed/tbGyAwLmr4Y" frameborder="0" allowfullscreen></iframe>' },
        { id: '43kHD3M2FxU', title: 'Le SSI de catégorie A (Comprendre en 5 min)', cat: 'technique', iframe: '<iframe src="https://www.youtube.com/embed/43kHD3M2FxU" frameborder="0" allowfullscreen></iframe>' },
        { id: 'qIhxgeu5pLk', title: 'Exercices SSIAP : Version S.S.I', cat: 'technique', iframe: '<iframe src="https://www.youtube.com/embed/qIhxgeu5pLk" frameborder="0" allowfullscreen></iframe>' },
        { id: 'z2YnCB6HfJI', title: 'Réarmer + Acquittement Processus SSI', cat: 'technique', iframe: '<iframe src="https://www.youtube.com/embed/z2YnCB6HfJI" frameborder="0" allowfullscreen></iframe>' },
        { id: 'agE53r6Jll4', title: 'Les Composants du S.S.I', cat: 'technique', iframe: '<iframe src="https://www.youtube.com/embed/agE53r6Jll4" frameborder="0" allowfullscreen></iframe>' },
        { id: 'VUYSlmC7j-4', title: 'Schéma SSI Catégorie A (Option IGH)', cat: 'technique', iframe: '<iframe src="https://www.youtube.com/embed/VUYSlmC7j-4" frameborder="0" allowfullscreen></iframe>' },
        { id: '154NTtR9PDI', title: 'Tout savoir sur l\'Éclairage de Sécurité', cat: 'technique', iframe: '<iframe src="https://www.youtube.com/embed/154NTtR9PDI" frameborder="0" allowfullscreen></iframe>' },
        { id: 'lPaBI-6TQGg', title: 'Résistance au Feu des Éléments de Construction', cat: 'technique', iframe: '<iframe src="https://www.youtube.com/embed/lPaBI-6TQGg" frameborder="0" allowfullscreen></iframe>' },
        { id: 'G3QYxMGoKHo', title: 'QCM Entraînement SSIAP 3', cat: 'technique', iframe: '<iframe src="https://www.youtube.com/embed/G3QYxMGoKHo" frameborder="0" allowfullscreen></iframe>' },
        { id: 'vBcjdVVFwP8', title: 'Gardiennage : Gestion d\'Intrusion (Réel)', cat: 'gardiennage', iframe: '<iframe src="https://www.youtube.com/embed/vBcjdVVFwP8" frameborder="0" allowfullscreen></iframe>' },
        { id: 'DeM-fLGLsiI', title: 'Appréhender une personne en sécurité', cat: 'gardiennage', iframe: '<iframe src="https://www.youtube.com/embed/DeM-fLGLsiI" frameborder="0" allowfullscreen></iframe>' },
        { id: '6cZG92VNavg', title: '5 Bonnes Habitudes en Sécurité', cat: 'gardiennage', iframe: '<iframe src="https://www.youtube.com/embed/6cZG92VNavg" frameborder="0" allowfullscreen></iframe>' },
        { id: 'A_e-vi-jmmE', title: 'Le Métier d\'Agent SSIAP 1', cat: 'gardiennage', iframe: '<iframe src="https://www.youtube.com/embed/A_e-vi-jmmE" frameborder="0" allowfullscreen></iframe>' },
        { id: '3uqSb5SUk74', title: 'Le Métier d\'Agent SSIAP 2', cat: 'gardiennage', iframe: '<iframe src="https://www.youtube.com/embed/3uqSb5SUk74" frameborder="0" allowfullscreen></iframe>' },
        { id: '8cXT42yqZh8', title: 'Évacuation : Le rôle du Serre-File', cat: 'evac', iframe: '<iframe src="https://www.youtube.com/embed/8cXT42yqZh8" frameborder="0" allowfullscreen></iframe>' },
        { id: 'cjpaGYCP3wY', title: 'Les Principes d\'Évacuation', cat: 'evac', iframe: '<iframe src="https://www.youtube.com/embed/cjpaGYCP3wY" frameborder="0" allowfullscreen></iframe>' },
        { id: 'ONX70M1zVaM', title: 'La Levée de Doute (Procédure PC)', cat: 'evac', iframe: '<iframe src="https://www.youtube.com/embed/ONX70M1zVaM" frameborder="0" allowfullscreen></iframe>' },
        { id: 'Lmkwox1t0NY', title: 'Les Rondes de Sécurité', cat: 'evac', iframe: '<iframe src="https://www.youtube.com/embed/Lmkwox1t0NY" frameborder="0" allowfullscreen></iframe>' }
    ];

    function initVideos() { renderVideos(vData); }

    function renderVideos(data) {
        const grid = document.getElementById('video-grid');
        if (!grid) return;
        grid.innerHTML = data.length === 0 ? '<p class="col-span-full text-center text-slate-500 py-10">Aucune vidéo trouvée.</p>' : 
        data.map(v => `
            <div class="glass p-4 rounded-3xl border border-slate-800 hover:border-red-500 transition-all group">
                <div class="video-container">${v.iframe}</div>
                <div class="p-4">
                    <h4 class="font-bold text-[11px] uppercase group-hover:text-red-500 text-white">${v.title}</h4>
                    <span class="text-[9px] text-red-500 font-bold uppercase tracking-widest mt-2 block">${v.cat}</span>
                </div>
            </div>`).join('');
    }

    function searchVideos() {
        const term = document.getElementById('v-search').value.toLowerCase().trim();
        const filtered = vData.filter(v => v.title.toLowerCase().includes(term) || v.cat.toLowerCase().includes(term));
        renderVideos(filtered);
        if (term !== "") {
            const grid = document.getElementById('video-grid');
            const ytBox = document.createElement('div');
            ytBox.className = "col-span-full py-10 text-center bg-slate-800/30 rounded-3xl border-2 border-dashed border-slate-700 mt-6";
            ytBox.innerHTML = `<p class="text-slate-400 text-sm mb-4">Rechercher "${term}" sur YouTube ?</p>
            <button onclick="launchYoutubeSearch()" class="bg-red-600 hover:bg-red-700 text-white font-black py-4 px-8 rounded-2xl transition-all">LANCER LA RECHERCHE YOUTUBE</button>`;
            grid.appendChild(ytBox);
        }
    }

    function launchYoutubeSearch() {
        const term = document.getElementById('v-search').value.trim();
        const query = term === "" ? "formation ssiap 1" : "ssiap " + term;
        window.open(`https://www.youtube.com/results?search_query=${encodeURIComponent(query)}`, '_blank');
    }

    function filterVideos(cat) {
        document.querySelectorAll('#tab-videos .cat-btn').forEach(btn => btn.classList.remove('active', 'bg-red-600'));
        if (event && event.currentTarget) event.currentTarget.classList.add('active', 'bg-red-600');
        renderVideos(cat === 'all' ? vData : vData.filter(v => v.cat === cat));
    }

    // --- BANQUE DE 100 QUESTIONS SSIAP 1 ---
    const ssiapDatabase = [
        { q: "Quel est le numéro d'alerte des pompiers ?", o: ["15", "17", "18", "112"], c: 2, e: "Le 18 est le numéro d'appel d'urgence des sapeurs-pompiers." },
        { q: "La classe de feu B concerne ?", o: ["Solides", "Liquides", "Gaz", "Métaux"], c: 1, e: "La classe B regroupe les feux de liquides ou de solides liquéfiables." },
        { q: "Que signifie S.S.I. ?", o: ["Système de Sécurité Incendie", "Service de Secours Incendie", "Système de Sauvetage Immédiat"], c: 0, e: "Le SSI collecte les informations, les traite et effectue les fonctions de mise en sécurité." },
        { q: "Quelle est la distance d'attaque d'un extincteur CO2 ?", o: ["1 m", "3 m", "5 m"], c: 0, e: "Le CO2 sort à -78°C, il faut attaquer le feu de près (environ 1m) pour être efficace." },
        { q: "Le triangle du feu est composé de : Comburant, Énergie et... ?", o: ["Fumée", "Combustible", "Azote"], c: 1, e: "Sans combustible (bois, papier, gaz...), le feu ne peut exister." },
        { q: "Quelle est la durée de validité du recyclage SSIAP 1 ?", o: ["1 an", "2 ans", "3 ans"], c: 2, e: "Le recyclage doit être effectué tous les 3 ans." },
        { q: "Un feu de magnésium appartient à la classe ?", o: ["B", "C", "D"], c: 2, e: "La classe D concerne exclusivement les feux de métaux." },
        { q: "Que signifie l'acronyme P.A.S. ?", o: ["Passer Alerter Secourir", "Protéger Alerter Secourir", "Prendre Agir Secourir"], c: 1, e: "C'est l'ordre chronologique des gestes de premiers secours." },
        { q: "Combien d'UP font 1,40m dans un dégagement ?", o: ["1 UP", "2 UP", "3 UP"], c: 1, e: "En ERP, 1 UP = 0.60m et 2 UP = 1.40m." },
        { q: "Le désenfumage sert principalement à ?", o: ["Éteindre le feu", "Faciliter l'évacuation", "Refroidir les murs"], c: 1, e: "Il permet d'évacuer les fumées toxiques pour permettre la sortie des occupants." },
        { q: "Quel est l'agent extincteur d'un extincteur à capuchon bleu ?", o: ["Poudre", "Eau", "CO2"], c: 1, e: "La couleur bleue sur la poignée ou l'étiquette désigne l'eau pulvérisée." },
        { q: "Une porte coupe-feu doit toujours être ?", o: ["Fermée à clé", "Libre de tout obstacle", "Cadenassée"], c: 1, e: "Rien ne doit entraver sa fermeture pour empêcher la propagation des fumées." },
        { q: "Le déclencheur manuel (DM) envoie l'info au ?", o: ["CMSI", "ECS", "Pompiers"], c: 1, e: "L'information de détection arrive à l'Équipement de Contrôle et de Signalisation (ECS)." },
        { q: "Que signifie le sigle E.R.P. ?", o: ["Établissement Recevant du Public", "Espace de Réunion Publique"], c: 0, e: "C'est la définition légale d'un bâtiment accueillant des personnes extérieures." },
        { q: "Combien y a-t-il de catégories d'ERP ?", o: ["3", "5", "7"], c: 1, e: "Il y a 5 catégories, la 5ème étant celle recevant le moins de public." },
        { q: "Un IGH est un immeuble dont le plancher bas du dernier niveau est à ?", o: ["18m ou 28m", "50m", "100m"], c: 0, e: "28m en général, ou 18m pour l'habitation." },
        { q: "Le CMSI gère les fonctions de ?", o: ["Détection", "Mise en sécurité", "Rondes"], c: 1, e: "Le Centralisateur de Mise en Sécurité Incendie gère le désenfumage et le compartimentage." },
        { q: "L'alerte interne est donnée par ?", o: ["Le public", "L'agent SSIAP", "Les pompiers"], c: 1, e: "C'est l'agent qui alerte sa propre structure avant d'appeler les secours extérieurs." },
        { q: "En cas d'alarme, quel est le délai avant la diffusion du signal ?", o: ["Immédiat", "0 à 5 minutes", "10 minutes"], c: 1, e: "Une temporisation (0-5 min) est réglée selon l'organisation de la levée de doute." },
        { q: "La ronde de sécurité doit être ?", o: ["Aléatoire", "Fixe", "Optionnelle"], c: 0, e: "Elle doit changer de parcours pour ne pas créer d'habitude dangereuse." },
        { q: "Quel gaz est le plus toxique lors d'un incendie ?", o: ["Oxygène", "Monoxyde de carbone", "Azote"], c: 1, e: "Le CO est incolore, inodore et mortel à faible dose." },
        { q: "Quelle est la couleur d'un déclencheur manuel incendie ?", o: ["Vert", "Jaune", "Rouge"], c: 2, e: "Le rouge est la couleur normalisée pour la lutte incendie." },
        { q: "Que faire en premier lors d'une détection incendie ?", o: ["Appeler les pompiers", "Faire la levée de doute", "Éteindre le SSI"], c: 1, e: "Il faut vérifier physiquement s'il y a un feu réel (levée de doute)." },
        { q: "Un feu de friteuse se traite avec ?", o: ["De l'eau", "La classe F", "Un ventilateur"], c: 1, e: "La classe F concerne les auxiliaires de cuisson (huiles végétales/animales)." },
        { q: "La combustion est une réaction ?", o: ["Endothermique", "Exothermique", "Neutre"], c: 1, e: "Elle dégage de la chaleur." },
        { q: "Que signifie RIA ?", o: ["Réseau Incendie Armé", "Robinet d'Incendie Armé"], c: 1, e: "C'est un moyen de secours manuel alimenté en eau en permanence." },
        { q: "La portée d'un RIA est de ?", o: ["5 mètres", "15 mètres", "30 mètres"], c: 1, e: "Le jet doit atteindre au moins 15 mètres (en jet droit)." },
        { q: "Le plan d'évacuation est destiné ?", o: ["Aux pompiers", "Aux occupants", "Au patron"], c: 1, e: "Il aide les occupants à trouver le chemin de sortie le plus proche." },
        { q: "Un escalier de secours doit être ?", o: ["Éclairé", "Encombré", "Fermé à clé"], c: 0, e: "Il doit rester dégagé et posséder un éclairage de sécurité (BAES)." },
        { q: "Le point de rassemblement se situe ?", o: ["Dans le hall", "À l'extérieur", "Sur le toit"], c: 1, e: "Il doit être dans une zone sûre à l'extérieur du bâtiment." },
        { q: "L'agent SSIAP 1 dépend du ?", o: ["Chef d'équipe (SSIAP 2)", "Directeur", "Maire"], c: 0, e: "Le SSIAP 1 est sous les ordres du SSIAP 2." },
        { q: "Une main courante sert à ?", o: ["Se tenir", "Noter les événements", "Appeler"], c: 1, e: "C'est le registre où sont consignés tous les faits de la vacation." },
        { q: "Le compartimentage sert à ?", o: ["Éteindre", "Limiter la propagation", "Aérer"], c: 1, e: "Il divise le bâtiment pour enfermer le feu dans une zone." },
        { q: "Le débit d'un RIA 25 est de ?", o: ["15 l/min", "54 l/min", "100 l/min"], c: 1, e: "Le débit nominal d'un RIA DN25 est d'environ 54 litres par minute." },
        { q: "Quelle est la couleur d'un déclencheur manuel 'Issue de secours' ?", o: ["Rouge", "Vert", "Bleu"], c: 1, e: "Le vert est utilisé pour le déverrouillage des issues de secours." },
        { q: "Combien de temps dure la vacation maximum d'un agent ?", o: ["8h", "12h", "24h"], c: 1, e: "La durée maximale de travail effectif pour une vacation de sécurité est de 12h." },
        { q: "Un feu de forêt est un feu de classe ?", o: ["A", "B", "F"], c: 0, e: "Classe A : Feux de matériaux solides (bois, herbes)." },
        { q: "L'éclairage de sécurité s'allume en cas de ?", o: ["Fumée", "Coupure de courant secteur", "Nuit"], c: 1, e: "Il prend le relais lors d'une défaillance de l'éclairage normal." },
        { q: "Que signifie BAES ?", o: ["Bloc Autonome d'Éclairage de Sécurité", "Boîtier d'Alarme et de Secours"], c: 0, e: "Ce sont les blocs lumineux qui indiquent les sorties." },
        { q: "Quel est le rôle du guide-file ?", o: ["Fermer la marche", "Diriger les gens vers la sortie", "Appeler"], c: 1, e: "Le guide-file mène les occupants vers l'extérieur." },
        { q: "L'extincteur à eau pulvérisée contient ?", o: ["De l'eau pure", "De l'eau + additif", "De la glace"], c: 1, e: "L'additif permet de briser la tension superficielle de l'eau." },
        { q: "Un détecteur de fumée est un ?", o: ["DAS", "DAI", "DM"], c: 1, e: "DAI : Détecteur Automatique d'Incendie." },
        { q: "Le SSI de catégorie A est obligatoire en ?", o: ["Hôpital (Type U)", "Petit magasin", "Parking"], c: 0, e: "Les ERP avec locaux à sommeil (U, J, O) imposent la catégorie A." },
        { q: "Le triangle du feu est un schéma de ?", o: ["La prévention", "La combustion", "L'évacuation"], c: 1, e: "Il illustre les 3 éléments nécessaires au feu." },
        { q: "Quelle est la hauteur d'un DM par rapport au sol ?", o: ["0,50m", "1,30m", "2,50m"], c: 1, e: "La commande doit être accessible (entre 0.90m et 1.30m)." },
        { q: "Le signal sonore d'évacuation est le ?", o: ["Sifflet", "NFS 32-001", "Sirène pompier"], c: 1, e: "C'est la norme du son d'évacuation général." },
        { q: "Un SSIAP 1 peut-il faire de la maintenance lourde ?", o: ["Oui", "Non", "Seulement le dimanche"], c: 1, e: "Il fait la maintenance de premier niveau (visuelle/simple)." },
        { q: "Le désenfumage mécanique utilise des ?", o: ["Fenêtres", "Ventilateurs", "Échelles"], c: 1, e: "Il utilise des extracteurs et des insufflateurs moteurs." },
        { q: "Un feu de gaz est de classe ?", o: ["A", "C", "D"], c: 1, e: "Classe C : Gaz inflammables." },
        { q: "Que signifie 'M0' en réaction au feu ?", o: ["Combustible", "Incombustible", "Moyen"], c: 1, e: "M0 est le matériau le plus performant (ne brûle pas)." },
        { q: "Un extincteur doit être contrôlé par un pro tous les ?", o: ["6 mois", "1 an", "5 ans"], c: 1, e: "La vérification technique annuelle est obligatoire." },
        { q: "Que signifie IGH ?", o: ["Immeuble de Grande Hauteur", "Incendie Grave et Haut"], c: 0, e: "Bâtiment dont la hauteur impose des règles spécifiques." },
        { q: "Le compartimentage repose sur des ?", o: ["Murs", "Parois et portes CF", "Ventilateurs"], c: 1, e: "Il utilise des parois résistantes au feu." },
        { q: "En IGH, le désenfumage est ?", o: ["Inutile", "Obligatoire", "Optionnel"], c: 1, e: "Vital pour évacuer les fumées dans les circulations." },
        { q: "L'alarme générale doit s'entendre ?", o: ["Dans le hall", "Partout dans le bâtiment", "Au PC"], c: 1, e: "Tout le monde doit être prévenu pour évacuer." },
        { q: "Le SSIAP 1 doit connaître ?", o: ["Le code pénal", "L'emplacement des moyens de secours", "La cuisine"], c: 1, e: "Il doit savoir où se trouvent les extincteurs et RIA de son site." },
        { q: "Un clapet coupe-feu se trouve dans ?", o: ["Un tuyau d'eau", "Une gaine de ventilation", "Une porte"], c: 1, e: "Il se ferme pour éviter que le feu passe par la ventilation." },
        { q: "La détection automatique (DAI) déclenche ?", o: ["Le désenfumage", "L'alarme restreinte", "Les pompiers"], c: 1, e: "L'alarme restreinte prévient d'abord le PC sécurité." },
        { q: "Un agent SSIAP en poste peut-il faire du nettoyage ?", o: ["Oui", "Non", "Si le chef veut"], c: 1, e: "Il doit rester disponible pour ses missions de sécurité." },
        { q: "Le permis feu est obligatoire pour ?", o: ["Fumer", "Travaux par points chauds", "Cuisiner"], c: 1, e: "Soudure, découpage... tout ce qui génère des étincelles hors zone prévue." },
        { q: "Quelle est la durée de validité du permis feu ?", o: ["1 jour", "Le temps des travaux", "1 an"], c: 1, e: "Il est délivré pour une tâche et une durée précise." },
        { q: "En cas de brûlure, on arrose pendant ?", o: ["1 minute", "Le temps que la douleur cesse", "10-15 minutes"], c: 2, e: "La règle des 15 (15 min à 15 cm à 15°C)." },
        { q: "Une victime qui ne répond pas mais respire est placée en ?", o: ["PLS", "Assise", "Allongée dos"], c: 0, e: "PLS pour éviter l'étouffement par les vomissements ou la langue." },
        { q: "Le défibrillateur (DAE) sert à ?", o: ["Faire respirer", "Relancer ou régulariser le coeur", "Endormir"], c: 1, e: "Il analyse le rythme et délivre un choc si nécessaire." },
        { q: "Le massage cardiaque se fait à un rythme de ?", o: ["50/min", "100-120/min", "200/min"], c: 1, e: "Environ 2 compressions par seconde." },
        { q: "Quelle est la profondeur des compressions thoraciques (adulte) ?", o: ["1 cm", "5 à 6 cm", "10 cm"], c: 1, e: "Il faut comprimer suffisamment pour faire circuler le sang." },
        { q: "Que signifie ECS ?", o: ["Équipement de Contrôle et de Signalisation", "Écran de Contrôle Sécurité"], c: 0, e: "C'est le cerveau du système de détection." },
        { q: "L'agent SSIAP 1 vérifie la vacuité des ?", o: ["Cendriers", "Dégagements", "Poches"], c: 1, e: "Rien ne doit bloquer les sorties de secours." },
        { q: "Le plan d'intervention est destiné aux ?", o: ["Clients", "Pompiers (secours extérieurs)", "Ouvriers"], c: 1, e: "Il aide les pompiers à se repérer dans le bâtiment." },
        { q: "Une colonne sèche est ?", o: ["Un tuyau vide", "Un tuyau plein d'eau", "Un ascenseur"], c: 0, e: "Tuyau vide que les pompiers remplissent avec leur fourgon." },
        { q: "Le RIA est utilisable sur ?", o: ["Feux de gaz uniquement", "Début d'incendie classe A", "Feu de métaux"], c: 1, e: "C'est de l'eau, idéal pour les feux de solides (Classe A)." },
        { q: "Un extincteur CO2 est efficace sur ?", o: ["Bois", "Petits feux électriques", "Herbes"], c: 1, e: "Le CO2 est non conducteur et ne laisse pas de trace." },
        { q: "Un feu de bois est un feu de classe ?", o: ["A", "B", "D"], c: 0, e: "Classe A : Feux de matériaux solides formant des braises." },
        { q: "Le SSIAP 1 doit porter ?", o: ["Un jean", "Sa tenue de service", "Un smoking"], c: 1, e: "La tenue permet d'être identifié par le public et les secours." },
        { q: "Que signifie DAS ?", o: ["Dispositif d'Action de Sécurité", "Dispositif Actionneur de Secours"], c: 0, e: "Exemple : volets de désenfumage, clapets, portes." },
        { q: "Le point éclair est ?", o: ["Une lampe", "La température minimale d'inflammation", "La fin du feu"], c: 1, e: "Température à laquelle un liquide émet assez de vapeurs pour brûler." },
        { q: "L'oxygène dans l'air est le ?", o: ["Combustible", "Comburant", "Énergie"], c: 1, e: "Il permet la réaction chimique de combustion." },
        { q: "Le SSIAP 1 assure ?", o: ["La vente des billets", "La sécurité des personnes et des biens", "Le ménage"], c: 1, e: "Sa mission première est la protection contre l'incendie." },
        { q: "En ERP, l'évacuation est ?", o: ["Vers le haut", "Vers l'extérieur", "Dans les caves"], c: 1, e: "On évacue toujours vers le domaine public." },
        { q: "Le code couleur de la catégorie J est ?", o: ["Jaune", "Rose", "Vert"], c: 1, e: "J = Structures d'accueil pour personnes âgées ou handicapées (Rose)." },
        { q: "Que signifie l'UP ?", o: ["Unité de Passage", "Urgence Prioritaire"], c: 0, e: "Mesure de la largeur des passages d'évacuation." },
        { q: "Le désenfumage naturel utilise ?", o: ["Des moteurs", "Le tirage thermique", "Des éponges"], c: 1, e: "L'air chaud monte et s'évacue par les trappes." },
        { q: "La levée de doute doit être ?", o: ["Longue", "Rapide et efficace", "Faite par téléphone"], c: 1, e: "L'agent doit confirmer le sinistre le plus vite possible." },
        { q: "L'extincteur à poudre est ?", o: ["Polyvalent", "Spécifique bois", "Inutile"], c: 0, e: "La poudre ABC éteint presque tous les types de feux courants." },
        { q: "Le SSIAP 1 doit savoir utiliser ?", o: ["Un avion", "Un émetteur-récepteur (Radio)", "Une grue"], c: 1, e: "La radio est l'outil de communication principal." },
        { q: "Le registre de sécurité est ?", o: ["Secret", "Obligatoire", "Optionnel"], c: 1, e: "Il contient l'historique de sécurité du bâtiment." },
        { q: "Une porte coupe-feu fermée ?", o: ["Bloque les gens", "Bloque les flammes et fumées", "Est inutile"], c: 1, e: "Elle maintient l'intégrité des compartiments." },
        { q: "La source d'énergie d'un SSI est ?", o: ["Le secteur + batteries", "Une pile", "Le soleil"], c: 0, e: "Le système doit fonctionner même en cas de coupure de courant." },
        { q: "Le signal NFS 32-001 dure ?", o: ["5 secondes", "Au moins 5 minutes", "1 heure"], c: 1, e: "Le son d'évacuation doit être maintenu pendant toute la sortie." },
        { q: "Un feu de friteuse s'éteint ?", o: ["Avec de l'eau", "En couvrant ou extincteur F", "En soufflant"], c: 1, e: "L'eau sur de l'huile brûlante provoque une explosion (boil-over)." },
        { q: "Que signifie DAI ?", o: ["Détecteur Automatique d'Incendie", "Dispositif d'Alarme Interne"], c: 0, e: "Appareil sensible aux fumées, chaleur ou flammes." },
        { q: "Le SSIAP 1 fait-il l'accueil des secours ?", o: ["Oui", "Non", "Seulement s'il n'y a pas de SSIAP 2"], c: 0, e: "Il guide les pompiers vers le sinistre à leur arrivée." },
        { q: "Quelle est la couleur du bouton de l'alarme ?", o: ["Jaune", "Rouge", "Vert"], c: 1, e: "Le rouge identifie l'alerte incendie." },
        { q: "Une évacuation par 'phases' existe en ?", o: ["Petit magasin", "IGH", "Appartement"], c: 1, e: "On évacue souvent compartiment par compartiment." },
        { q: "Le SMSI signifie ?", o: ["Système de Mise en Sécurité Incendie", "Service de Maintenance Sécurité"], c: 0, e: "C'est la partie qui commande les trappes, portes, etc." },
        { q: "Peut-on utiliser l'ascenseur en cas d'incendie ?", o: ["Oui", "Non", "Seulement pour descendre"], c: 1, e: "Sauf ascenseurs pompiers spécifiques, risque de blocage ou fumées." },
        { q: "Que faire si on voit une personne brûler ?", o: ["Courir", "La couvrir / l'étouffer au sol", "Souffler"], c: 1, e: "Il faut empêcher l'oxygène d'alimenter les flammes sur les vêtements." },
        { q: "Quel est le risque majeur des fumées ?", o: ["La peur", "L'asphyxie et les brûlures internes", "La saleté"], c: 1, e: "Les fumées tuent bien plus que les flammes directes." },
        { q: "Un agent SSIAP doit être ?", o: ["Sédentaire", "Vigilant", "Distrait"], c: 1, e: "La vigilance constante permet de détecter les anomalies avant le drame." },
        { q: "Le SSIAP 1 teste les blocs secours ?", o: ["Tous les jours", "Régulièrement lors des rondes", "Jamais"], c: 1, e: "Vérification visuelle de la diode verte." }
    ];

    let testQuestions = [];
    let userAnswers = [];
    let currentQIdx = 0;
    let score = 0;

    function startQuiz() {
        // Mélange la base de données et prend 20 questions au hasard
        testQuestions = [...ssiapDatabase].sort(() => Math.random() - 0.5).slice(0, 20);
        userAnswers = [];
        currentQIdx = 0;
        score = 0;
        
        document.getElementById('exam-intro').classList.add('hidden');
        document.getElementById('quiz-container').classList.remove('hidden');
        loadQuestion();
    }

    function loadQuestion() {
        const q = testQuestions[currentQIdx];
        document.getElementById('quiz-progress').innerText = `Question ${currentQIdx + 1}/20`;
        document.getElementById('quiz-q').innerText = q.q;
        
        const optsContainer = document.getElementById('quiz-opts');
        optsContainer.innerHTML = '';
        
        q.o.forEach((option, index) => {
            const btn = document.createElement('button');
            btn.innerText = option;
            btn.className = "w-full text-left p-5 rounded-2xl border border-slate-700 bg-slate-900/50 hover:border-red-500 font-bold transition-all mt-2";
            btn.onclick = () => handleAnswer(index);
            optsContainer.appendChild(btn);
        });
    }

    function handleAnswer(choice) {
        userAnswers.push(choice);
        if (choice === testQuestions[currentQIdx].c) score++;
        
        currentQIdx++;
        if (currentQIdx < testQuestions.length) {
            loadQuestion();
        } else {
            showDetailedBilan();
        }
    }

    function showDetailedBilan() {
        const container = document.getElementById('quiz-container');
        let reportHTML = `
            <div class="text-center mb-10">
                <h2 class="text-4xl font-black italic">BILAN TERMINÉ</h2>
                <p class="text-2xl mt-4">Score final : <span class="${score >= 12 ? 'text-emerald-500' : 'text-red-500'}">${score} / 20</span></p>
                <button onclick="location.reload()" class="mt-6 px-10 py-4 bg-red-600 rounded-2xl font-black uppercase">Refaire un test</button>
            </div>
            <div class="space-y-6">
        `;

        testQuestions.forEach((q, i) => {
            const isCorrect = userAnswers[i] === q.c;
            reportHTML += `
                <div class="p-6 rounded-3xl border ${isCorrect ? 'border-emerald-500/50 bg-emerald-500/5' : 'border-red-500/50 bg-red-500/5'}">
                    <div class="flex items-center gap-3 mb-2">
                        <i class="fas ${isCorrect ? 'fa-check-circle text-emerald-500' : 'fa-times-circle text-red-500'}"></i>
                        <span class="font-bold text-lg">${i+1}. ${q.q}</span>
                    </div>
                    <p class="text-sm mb-1 text-slate-400">Votre réponse : <span class="${isCorrect ? 'text-emerald-400' : 'text-red-400'}">${q.o[userAnswers[i]]}</span></p>
                    ${!isCorrect ? `<p class="text-sm mb-3 text-slate-300">La bonne réponse était : <span class="text-emerald-400 font-bold">${q.o[q.c]}</span></p>` : ''}
                    <div class="mt-4 p-4 bg-slate-800/50 rounded-xl border border-slate-700">
                        <p class="text-xs italic text-slate-300 font-medium"><i class="fas fa-info-circle mr-2"></i>Explication : ${q.e}</p>
                    </div>
                </div>
            `;
        });

        reportHTML += `</div>`;
        container.innerHTML = reportHTML;
        container.scrollIntoView({ behavior: 'smooth' });
    }

    window.onload = () => showTab('course');
</script>
</body>
</html>
